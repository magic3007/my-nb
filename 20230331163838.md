# Automatically running a script on startup in Linux

Model: Default (GPT-3.5)

> 1 / 1
> 
> linux 开机自动自动运行脚本

1 / 1

在Linux系统中，可以使用以下步骤使脚本在开机时自动运行：

1.  编写脚本文件并保存在任意目录下，例如 `/home/user/myscript.sh`。
    
2.  给脚本文件添加执行权限，可以使用 `chmod +x /home/user/myscript.sh` 命令。
    
3.  打开系统启动脚本配置文件 `/etc/rc.local`，可以使用文本编辑器，例如 `sudo nano /etc/rc.local`。
    
4.  在文件中添加以下行，将脚本文件路径加入其中：
    

bash

```bash
#!/bin/bash
/home/user/myscript.sh &
```

注意：要在脚本路径后添加 `&` 符号，表示在后台运行脚本。

5.  保存并关闭文件。
    
6.  重启系统，脚本将在启动时自动运行。
    

另外，不同的Linux发行版可能有所不同，有些发行版使用 Systemd 或 Upstart 等启动管理器。如果使用这些启动管理器，可以通过编写相应的服务文件来配置自动运行脚本。

> 1 / 1
> 
> ubuntu20.04 开机自动自动运行脚本

1 / 1

在Ubuntu 20.04中，可以按照以下步骤配置开机自动运行脚本：

1.  编写脚本文件并保存在任意目录下，例如 `/home/user/myscript.sh`。
    
2.  给脚本文件添加执行权限，可以使用 `chmod +x /home/user/myscript.sh` 命令。
    
3.  打开系统启动脚本配置文件 `/etc/rc.local`，可以使用文本编辑器，例如 `sudo nano /etc/rc.local`。
    
4.  在文件中添加以下行，将脚本文件路径加入其中：
    

bash

```bash
#!/bin/bash
/home/user/myscript.sh &
```

注意：要在脚本路径后添加 `&` 符号，表示在后台运行脚本。

5.  保存并关闭文件。
    
6.  确认 `rc.local` 启动脚本已启用，可以使用以下命令：
    

lua

```lua
sudo systemctl status rc-local.service
```

如果状态显示为 `active (running)`，则说明已启用。

7.  重启系统，脚本将在启动时自动运行。

如果 `rc.local` 启动脚本未启用，可以按照以下步骤启用：

1.  创建 `rc.local` 启动脚本配置文件：

bash

```bash
sudo nano /etc/systemd/system/rc-local.service
```

2.  添加以下内容：

makefile

```makefile
[Unit]
Description=/etc/rc.local Compatibility
ConditionPathExists=/etc/rc.local

[Service]
Type=forking
ExecStart=/etc/rc.local start
TimeoutSec=0
StandardOutput=tty
RemainAfterExit=yes
SysVStartPriority=99

[Install]
WantedBy=multi-user.target
```

3.  保存并关闭文件。
    
4.  启用 `rc-local` 服务：
    

bash

```bash
sudo systemctl enable rc-local
```

5.  重新加载 `systemd` 管理器配置：

`sudo systemctl daemon-reload`

6.  重启系统，脚本将在启动时自动运行。

> 1 / 1
> 
> rc-local.service: Failed to execute command: Permission denied Mar 31 16:33:06 Bulbasaur systemd\[5837\]: rc-local.service: Failed at step EXEC spawning /etc/rc.local: Permission denied Mar 31 16:33:06 Bulbasaur systemd\[1\]: rc-local.service: Control process exited, code=exited, status=203/EXEC Mar 31 16:33:06 Bulbasaur systemd\[1\]: rc-local.service: Failed with result 'exit-code'. Mar 31 16:33:06 Bulbasaur systemd\[1\]: Failed to start /etc/rc.local Compatibility.

1 / 1

这个错误提示显示 rc-local.service 服务无法执行 `/etc/rc.local` 脚本文件，原因是缺少执行权限。可以使用以下命令为脚本文件添加执行权限：

bash

```bash
sudo chmod +x /etc/rc.local
```

执行完成后，重新启动 `rc-local` 服务：

lua

```lua
sudo systemctl restart rc-local.service
```

如果还出现问题，可以检查 `/etc/rc.local` 脚本文件中是否存在语法错误或无效的命令。
